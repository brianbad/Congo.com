<div class="nav-bar">
    <span class="nav-left-content">
        <!-- Sidenav menu controls -->
        <button *ngIf="sidenavOpened" mat-button class="sidenav-toggle" (click)="sidenav.toggle()"><mat-icon>close</mat-icon></button>
        <button *ngIf="!sidenavOpened" mat-button class="sidenav-toggle" (click)="sidenav.toggle()"><mat-icon>menu</mat-icon></button>
        
        <!-- Main logo -->
        <img src="../../assets/images/site/nav_logo.png" class="nav-bar-title" (click)="toHome()">

        <!-- Search Bar -->
        <div class="search-wrapper">
            <input type="text" #searchTerm class="search-input search-component" placeholder="Search not implemented"/>
            <button mat-raised-button color="primary" class="search-button search-component" (click)="searchItems(searchTerm.value)"><mat-icon>search</mat-icon></button>
        </div>
    </span>
    <span class="nav-right-content">
        <!-- Cart Button -->
        <button mat-button *ngIf="authService.getLoggedInUser()">
            <span class="navbar-button-content">
                <mat-icon>shopping_cart</mat-icon>
                My Cart
            </span>
        </button>

        <!-- Account Button -->
        <button mat-button *ngIf="!authService.getLoggedInUser()" (click)="toLogin()">
            <span class="navbar-button-content">Log In</span>
        </button>
        <button mat-button *ngIf="authService.getLoggedInUser()" [matMenuTriggerFor]="accountMenu">
            <span class="navbar-button-content">
                Hello, {{ authService.getLoggedInUser().firstName }}
                <mat-icon>keyboard_arrow_down</mat-icon>
            </span>
        </button>
        <mat-menu #accountMenu="matMenu" class="account-menu-dropdown">
            <button mat-menu-item (click)="toAccountDetails()">Account Details</button>
            <button mat-menu-item (click)="logout()">Logout</button>
        </mat-menu>
    </span>
</div>